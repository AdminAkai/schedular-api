(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},42:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(34),c=a.n(r),o=(a(42),a(12)),i=a(16),l=a(15),m=a(1),u=a.n(m),d=a(4),p=a(5),h=a(6),f=a(8),g=a(7),v=a(9),b=a(2),E=a.n(b),w=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={enteredUsername:"",enteredPassword:"",currentUserId:"",loggedIn:!1},a.currentDashboard="/dashboard/".concat(a.state.currentUserId),a.seedAdminData=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/getadmin/");case 2:if(!e.sent.data[0]){e.next=7;break}console.log("Admin account exists"),e.next=10;break;case 7:return t={username:"admin",password:"admin",email:"admin@admin.com",isAdmin:!0},e.next=10,E.a.post("/api/createuser/",t);case 10:case"end":return e.stop()}},e)})),a.renderRedirect=function(){if(a.state.loggedIn)return s.a.createElement(i.a,{to:a.currentDashboard})},a.onTextChange=function(e){var t=Object(l.a)({},a.state);t[e.target.name]=e.target.value,console.log("".concat(e.target.name,": ").concat(e.target.value)),a.setState(t)},a.verifyData=function(){var e=Object(d.a)(u.a.mark(function e(t){var n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:a.state.enteredUsername,password:a.state.enteredPassword},e.next=4,E.a.post("/verify",n);case 4:s=e.sent,console.log(s),console.log(s.data._id),"error"!==s.data?a.setState({currentUserId:s.data._id},function(){a.currentDashboard="/dashboard/".concat(a.state.currentUserId),a.setState({loggedIn:!0})}):alert("Username/Password Incorrect");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.seedAdminData()}},{key:"render",value:function(){return s.a.createElement("div",null,this.renderRedirect(),s.a.createElement("div",{className:"login animated animatedFadeInUp fadeInUp"},s.a.createElement("h1",{className:"schedular text-shadow"},"SCHEDUL\u03bbR"),s.a.createElement("form",{className:"form shadow"},s.a.createElement("h4",null,"Username"),s.a.createElement("input",{className:"username",name:"enteredUsername",type:"string",placeholder:"Username",required:!0,onChange:this.onTextChange,value:this.state.enteredUsername}),s.a.createElement("h4",null,"Password"),s.a.createElement("input",{className:"password",name:"enteredPassword",type:"password",placeholder:"Password",required:!0,onChange:this.onTextChange,value:this.state.enteredPassword}),s.a.createElement("input",{className:"submit",type:"submit",onClick:this.verifyData,value:"Login"}))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={isAdmin:!1},a.editProfile="/dashboard/edit/".concat(a.props.currentProfile),a.returnToDashboard="/dashboard/".concat(a.props.currentProfile),a.viewMessages="/dashboard/messages/".concat(a.props.currentProfile),a.createUser="/dashboard/createuser/".concat(a.props.currentProfile),a.checkIfAdmin=function(){if(!0===a.props.isAdmin)return s.a.createElement(o.b,{className:"navbar-option",to:a.editProfile},"Create User")},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({isAdmin:this.props.isAdmin})}},{key:"render",value:function(){return s.a.createElement("div",{className:"navbar"},s.a.createElement("div",{className:"navbar-container"},s.a.createElement("div",{className:"navbar-items"},this.props.isCreateUserPage?s.a.createElement(o.b,{className:"navbar-option",to:this.returnToDashboard},"Return to Dashboard"):s.a.createElement(o.b,{className:"navbar-option",to:this.createUser},"Create User"),!0===this.props.messagesPage?s.a.createElement(o.b,{className:"navbar-option",to:this.returnToDashboard},"Return to Dashboard"):s.a.createElement(o.b,{className:"navbar-option",to:this.viewMessages},"Messages"),!0===this.props.isEditPage?s.a.createElement(o.b,{className:"navbar-option",to:this.returnToDashboard},"Return to Dashboard"):s.a.createElement(o.b,{className:"navbar-option",to:this.editProfile},"Edit Profile"),s.a.createElement(o.b,{className:"navbar-option",to:"/"},"Logout"))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={currentMonth:new Date,selectedDate:new Date},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"calendar"},s.a.createElement("h1",null,"Hello World"))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).currentRoute=a.props.match.params.id,a.state={_id:"",email:"",isAdmin:!1,password:"",username:""},a.getDashboard=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/dashboard/".concat(a.currentRoute));case 2:t=e.sent,a.setState(t.data);case 4:case"end":return e.stop()}},e)})),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getDashboard()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(y,{currentProfile:this.props.match.params.id,isAdmin:this.state.isAdmin}),s.a.createElement("div",{className:"component-container"},s.a.createElement("button",{onClick:this.generateSchedule},"Generate Schedule"),s.a.createElement(N,null)))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={_id:"",email:"",isAdmin:!1,password:"",username:"",isEditPage:!0},a.onTextChange=function(e){var t=Object(l.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t)},a.submitEdit=function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)({},a.state),e.next=3,E.a.put("/api/dashboard/edit/".concat(a.props.match.params.id),n);case 3:alert("Profile Edited!"),a.getEditProfileScreen();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getEditProfileScreen=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/dashboard/edit/".concat(a.props.match.params.id));case 2:t=e.sent,a.setState(t.data);case 4:case"end":return e.stop()}},e)})),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getEditProfileScreen()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(y,{isEditPage:this.state.isEditPage,currentProfile:this.props.match.params.id}),s.a.createElement("div",{className:"edit-profile"},s.a.createElement("h3",null,"Current Profile"),s.a.createElement("form",{className:"form"},s.a.createElement("h4",null,"Username"),s.a.createElement("input",{onChange:this.onTextChange,name:"username",type:"string",placeholder:"New Username"}),s.a.createElement("h4",null,"Email"),s.a.createElement("input",{onChange:this.onTextChange,name:"email",type:"string",placeholder:"New Email"}),s.a.createElement("h4",null,"Change Password"),s.a.createElement("input",{name:"password",onChange:this.onTextChange,type:"password",placeholder:"New Password"}),s.a.createElement("input",{className:"submit",type:"submit",value:"Edit Profile",onClick:this.submitEdit}))))}}]),t}(n.Component),O=a(22),x=a.n(O),P=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={isMessages:!0,messages:[],allUsers:[],messageContent:"",dateSent:"",sentByName:"",sentToName:"",sentById:"",sentToId:""},a.messagesEndRef=s.a.createRef(),a.setDateTime=function(){var e=new Date,t=x()(e).format("YYYY-MM-DD HH:mm:ss");a.setState({dateSent:t})},a.scrollToBottom=function(){a.messagesEndRef.current.scrollIntoView({behavior:"smooth"})},a.getMessages=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/messages/".concat(a.props.match.params.id));case 2:(t=e.sent).data.length>a.state.messages.length&&a.setState({messages:t.data},a.scrollToBottom);case 4:case"end":return e.stop()}},e)})),a.setUser=Object(d.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/getusers/".concat(a.props.match.params.id));case 2:t=e.sent,n={sentById:t.data._id,sentByName:t.data.username},a.setState(n);case 5:case"end":return e.stop()}},e)})),a.onTextChange=function(e){var t=Object(l.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t)},a.setSendData=function(e){console.log(e.target.value),a.setState({sentToId:e.target.value},Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/getusers/".concat(a.state.sentToId));case 2:t=e.sent,a.setState({sentToName:t.data.username});case 4:case"end":return e.stop()}},e)}))),a.setUser()},a.getDifferentUsers=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/getusers/");case 2:t=e.sent,a.setState({allUsers:t.data});case 4:case"end":return e.stop()}},e)})),a.sendMessage=function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={messageContent:a.state.messageContent,dateSent:a.state.dateSent,sentByName:a.state.sentByName,sentToName:a.state.sentToName,sentById:a.state.sentById,sentToId:a.state.sentToId},e.next=4,E.a.post("/api/send-message",n);case 4:a.setState({messageContent:""}),a.getMessages(),a.scrollToBottom();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setUser(),this.getDifferentUsers(),setInterval(this.getMessages,1e3),setInterval(this.setDateTime,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.getMessages()),clearInterval(this.setDateTime,1e3)}},{key:"render",value:function(){var e=this,t=this.state.messages.map(function(t,a){return t.sentById===e.state.sentById?s.a.createElement("div",{className:"message-container-user"},s.a.createElement("p",{key:t._id,className:"message"},t.messageContent),s.a.createElement("p",{key:a,className:"date-subtext-user"},"Sent: ",x()(t.dateSent).format("YYYY-MM-DD HH:mm:ss"))):t.sentById===e.state.sentToId?s.a.createElement("div",{className:"message-container"},s.a.createElement("p",{key:t._id,className:"message"},t.sentByName,": ",t.messageContent),s.a.createElement("p",{key:a,className:"date-subtext"},"Sent: ",t.dateSent)):void 0}),a=this.state.allUsers.map(function(e){return s.a.createElement("option",{key:e._id,value:e._id},e.username)});return s.a.createElement("div",null,s.a.createElement(y,{currentProfile:this.props.match.params.id,editPage:!1,messagesPage:this.state.isMessages}),s.a.createElement("div",{className:"message-area"},s.a.createElement("h1",null,"Current user: ",this.state.sentByName),s.a.createElement("select",{className:"select-name",name:"sentToId",onChange:this.setSendData},a),s.a.createElement("div",{className:"message-box"},s.a.createElement("div",{className:"all-messages"},t,s.a.createElement("div",{ref:this.messagesEndRef})),s.a.createElement("form",{className:"message-form"},s.a.createElement("input",{type:"text",name:"messageContent",onChange:this.onTextChange,value:this.state.messageContent}),s.a.createElement("input",{className:"submit-messages",type:"submit",value:"send",onClick:this.sendMessage})))))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={createUserPage:!0,newUsername:"",newPassword:"",newEmail:"",newAvailability:0,newIsAdmin:!1,isAdmin:!1},a.setUser=Object(d.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/getusers/".concat(a.props.match.params.id));case 2:t=e.sent,n={isAdmin:t.data.isAdmin},a.setState(n);case 5:case"end":return e.stop()}},e)})),a.onTextChange=function(e){var t=Object(l.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t)},a.submitNewUser=function(){var e=Object(d.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:a.state.newUsername,password:a.state.newPassword,email:a.state.newEmail,availability:a.state.newAvailability,isAdmin:a.state.newIsAdmin},e.next=4,E.a.post("/api/createuser/",n);case 4:alert("Profile created!");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setUser()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(y,{currentProfile:this.props.match.params.id,isCreateUserPage:this.state.createUserPage,isAdmin:this.state.isAdmin}),s.a.createElement("div",{className:"create-user"},s.a.createElement("form",{className:"form"},s.a.createElement("h3",null,"New Username"),s.a.createElement("input",{type:"text",name:"newUsername",onChange:this.onTextChange,value:this.state.newUsername}),s.a.createElement("h3",null,"New Password"),s.a.createElement("input",{type:"password",name:"newPassword",onChange:this.onTextChange,value:this.state.newPassword}),s.a.createElement("h3",null,"New Email"),s.a.createElement("input",{type:"text",name:"newEmail",onChange:this.onTextChange,value:this.state.newEmail}),s.a.createElement("h3",null,"Availability (Total Work Hours in 7 Day Week)"),s.a.createElement("input",{type:"number",name:"newAvailability",onChange:this.onTextChange,value:this.state.newAvailability}),s.a.createElement("h3",null,"Admin"),s.a.createElement("select",{name:"newIsAdmin"},s.a.createElement("option",{value:"true"},"Yes"),s.a.createElement("option",{value:"false"},"No")),s.a.createElement("input",{type:"submit",value:"Create User",onClick:this.submitNewUser}))))}}]),t}(n.Component);a(66);var U=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(o.a,null,s.a.createElement(i.d,null,s.a.createElement(i.b,{exact:!0,path:"/",component:w}),s.a.createElement(i.b,{path:"/dashboard/edit/:id",component:j}),s.a.createElement(i.b,{path:"/dashboard/messages/:id",component:P}),s.a.createElement(i.b,{path:"/dashboard/createuser/:id",component:k}),s.a.createElement(i.b,{path:"/dashboard/:id",component:C}))))};c.a.render(s.a.createElement(U,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f0210c34.chunk.js.map